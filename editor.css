/* editor.css */

:root {
    --primary-color: #1890ff;
    --success-color: #1a7f37; /* GitHub Green */
    --danger-color: #d1242f;  
    --dark-color: #24292f;    
    --brown-color: #9a6700;   
    --bg-color: #f6f8fa;
    --border-color: #d0d7de;
}

* { box-sizing: border-box; }
body, html { 
    margin: 0; padding: 0; 
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; 
    background-color: var(--bg-color); 
    height: 100%; 
    overflow: hidden; /* é˜²æ­¢æ•´ä¸ªé¡µé¢æ»šåŠ¨ï¼Œåªè®©ç¼–è¾‘å™¨å†…éƒ¨æ»šåŠ¨ */
}

/* --- æ ¸å¿ƒç¼–è¾‘å™¨å®¹å™¨ --- */
.main-wrapper {
    max-width: 1600px;
    /* ä¸Šè¾¹è· 60px (é¿å¼€ layout.js çš„ 50px å¯¼èˆªæ ) */
    /* ä¸‹è¾¹è· 0ï¼Œé«˜åº¦è‡ªåŠ¨è®¡ç®—å‰©ä½™ç©ºé—´ */
    margin: 60px auto 0; 
    padding: 0 20px;
    /* è®¡ç®—é«˜åº¦ï¼šæ€»é«˜ - é¡¶éƒ¨å¯¼èˆªé¢„ç•™(60px) - åº•éƒ¨é¡µè„šé¢„ç•™(40px) - åº•éƒ¨é—´éš™(20px) */
    height: calc(100vh - 120px); 
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* --- é¡¶éƒ¨å·¥å…·æ  (ä»¿æˆªå›¾) --- */
.editor-toolbar-header {
    background: #fff; 
    padding: 8px 20px; 
    border-radius: 6px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    border: 1px solid var(--border-color);
    flex-shrink: 0; /* é˜²æ­¢è¢«å‹ç¼© */
}

.page-title { 
    font-size: 18px; font-weight: 600; color: #333; 
    display: flex; align-items: center; gap: 10px; 
}

/* è¾“å…¥æ¡†æ ·å¼ */
.title-input {
    background: #f6f8fa; border: 1px solid var(--border-color); 
    padding: 6px 12px; border-radius: 6px; color: #57606a; 
    font-size: 14px; width: 400px; outline: none; 
    text-align: center;
}

/* æŒ‰é’®ç»„ */
.action-group { display: flex; gap: 8px; align-items: center; }

.btn { 
    border: none; padding: 6px 12px; border-radius: 6px; 
    color: #fff; font-size: 13px; font-weight: 600; 
    cursor: pointer; transition: 0.2s; 
    display: flex; align-items: center; gap: 6px;
    box-shadow: 0 1px 0 rgba(27,31,36,0.1);
}
.btn:hover { opacity: 0.9; }
.btn:active { transform: translateY(1px); }

.btn-setting { background: #f6f8fa; color: #24292f; border: 1px solid var(--border-color); }
.btn-save { background: var(--success-color); }
.btn-pdf { background: var(--danger-color); }
.btn-md { background: var(--dark-color); }
.btn-long { background: var(--brown-color); }

/* --- ç¼–è¾‘åŒºåŸŸåˆ†æ  --- */
.editor-container {
    display: flex; gap: 15px; 
    flex: 1; min-height: 0; /* å…³é”®ï¼šå…è®¸å­å…ƒç´ é«˜åº¦æº¢å‡ºæ»šåŠ¨ */
}

.panel {
    flex: 1; background: #fff; 
    border-radius: 6px; 
    border: 1px solid var(--border-color);
    display: flex; flex-direction: column; 
    overflow: hidden;
}

.panel-header {
    padding: 8px 15px; border-bottom: 1px solid var(--border-color); 
    display: flex; justify-content: space-between; align-items: center; 
    background: #f6f8fa; font-size: 13px; color: #57606a; font-weight: 600;
}

.copy-btn { 
    border: 1px solid var(--border-color); background: #fff; 
    padding: 3px 8px; border-radius: 4px; cursor: pointer; 
    font-size: 12px; color: #57606a; transition: 0.2s;
}
.copy-btn:hover { border-color: var(--primary-color); color: var(--primary-color); }

.editor-area, .preview-area {
    flex: 1; padding: 20px; overflow-y: auto; 
    font-size: 16px; line-height: 1.6; 
    border: none; resize: none; outline: none;
}
#editor { font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace; color: #24292f; }

/* Markdown é¢„è§ˆä¼˜åŒ– */
#preview h1, #preview h2 { border-bottom: 1px solid #eee; padding-bottom: .3em; }
#preview blockquote { border-left: 4px solid #dfe2e5; color: #6a737d; padding-left: 1em; }
#preview img { max-width: 100%; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
#preview pre { background: #f6f8fa; padding: 16px; border-radius: 6px; overflow: auto; }
#preview code { background: #afb8c133; padding: .2em .4em; border-radius: 6px; font-size: 85%; font-family: monospace; }

/* --- ğŸ–¨ï¸ PDF A4 å®Œç¾æ‰“å° --- */
@media print {
    /* 1. éšè— layout.js æ³¨å…¥çš„å¯¼èˆªå’Œé¡µè„š */
    .global-top-nav, .global-footer, #global-settings-modal { display: none !important; }
    
    /* 2. éšè—ç¼–è¾‘å™¨å·¥å…·æ ã€å·¦ä¾§è¾“å…¥æ¡† */
    .editor-toolbar-header, .panel:first-child, .panel-header { display: none !important; }

    /* 3. é‡ç½®å®¹å™¨ï¼Œè®©é¢„è§ˆåŒºå æ»¡ A4 çº¸ */
    body, html, .main-wrapper, .editor-container {
        height: auto !important; margin: 0 !important; padding: 0 !important; 
        overflow: visible !important; background: #fff !important;
        display: block !important;
    }

    .panel:last-child {
        border: none !important; width: 100% !important; display: block !important;
    }
    
    .preview-area {
        padding: 0 !important; overflow: visible !important;
    }

    /* 4. æ‰“å°æ’ç‰ˆä¼˜åŒ– */
    #preview { font-size: 12pt; line-height: 1.5; }
    a { text-decoration: none; color: #000; }
    @page { margin: 2cm; size: A4; }
}

/* å“åº”å¼ */
@media (max-width: 768px) {
    .editor-container { flex-direction: column; height: auto; }
    .main-wrapper { height: auto; margin-bottom: 60px; }
    .panel { min-height: 50vh; }
    .action-group { display: none; } /* ç§»åŠ¨ç«¯æš‚æ—¶éšè—æŒ‰é’® */
}